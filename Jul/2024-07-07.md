âš¡ï¸ ìƒíƒœê´€ë¦¬ zustandì—ì„œ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— ì €ìž¥í•˜ëŠ” ê°’ì— ì•¡ì„¸ìŠ¤ í† í° ì œì™¸
-> ì•¡ì„¸ìŠ¤í† í° ë§Œë£Œ, ì‚­ì œ ì‹œ ë¦¬í”„ë ˆì‹œë¡œ ê°±ì‹ . ì¿ í‚¤ë‚˜ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ë¡œ ì•¡ì„¸ìŠ¤ ì ‘ê·¼ë¶ˆê°€ - ë³´ì•ˆê°•í™”

{
name: 'auth-storage',
partialize: (state) => ({ nickname: state.nickname, expiresAt: state.expiresAt }),
}
ðŸ› ê²€ìƒ‰ì°½ ë“œë¡­ë‹¤ìš´ ì˜¤ë¥˜ í•´ê²°
ì˜¤ë¥˜1. ê²€ìƒ‰ê²°ê³¼íŽ˜ì´ì§€ê°€ ì²˜ìŒë Œë”ë§ë ë•Œ ê²€ìƒ‰ì°½ ë“œë¡­ë‹¤ìš´ ë¬´ì¡°ê±´ ë– ìžˆìŒ
ì˜¤ë¥˜2. ì „ì²´ìš©ì–´íŽ˜ì´ì§€ì—ì„œ ìš©ì–´ì¹´ë“œ í´ë¦­í•´ì„œ ê²€ìƒ‰ê²°ê³¼ íŽ˜ì´ì§€ ë‹¤ë…€ì˜¤ë©´ ì „ì²´ìš©ì–´íŽ˜ì´ì§€ì— ë“œë¡­ë‹¤ìš´ ë‚¨ì•„ìžˆìŒ

âœ… í•´ê²°ë°©ë²•
íŽ˜ì´ì§€ ì´ë™ ê°ì§€ì™€ flagê°’ ì¶”ê°€í•˜ì—¬ ì²˜ìŒ ë Œë”ë§ì¼ë•ŒëŠ” ë¬´ì¡°ê±´ ë“œë¡­ë‹¤ìš´ ë‹«í˜€ìžˆë„ë¡ ì„¤ì •

useEffect(() => {
if (searchTerm) {
// ìƒˆë¡œìš´ íƒ€ì´ë¨¸ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.
debounceTimeoutRef.current = setTimeout(async () => {
const data = await fetchRelatedItems(searchTerm);
if (data?.length && !firstRender) {
setDropdownVisible(true);
} else {
setDropdownVisible(false);
}
}, 300);
if (router.pathname !== `/search/${searchTerm}`) {
setDropdownVisible(false);
}
// cleanup í•¨ìˆ˜: ì»´í¬ë„ŒíŠ¸ê°€ ì–¸ë§ˆìš´íŠ¸ë˜ê±°ë‚˜ searchTermì´ ë³€ê²½ë  ë•Œ ì‹¤í–‰ë©ë‹ˆë‹¤.
return () => {
clearTimeout(debounceTimeoutRef.current);
};
} else {
setDropdownVisible(false);
setFirstRender(false);
}
}, [searchTerm, router.pathname]);
